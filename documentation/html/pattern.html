<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
    <title>pattern</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link type="text/css" rel="stylesheet" href="../clips.css" />
    <style>
        /* Small fixes because we omit the online layout.css. */
        h3 { line-height: 1.3em; }
        #page { margin-left: auto; margin-right: auto; }
        #header, #header-inner { height: 175px; }
        #header { border-bottom: 1px solid #C6D4DD;  }
        table { border-collapse: collapse; }
    </style>
    <link href="../js/shCore.css" rel="stylesheet" type="text/css" />
    <link href="../js/shThemeDefault.css" rel="stylesheet" type="text/css" />
    <script language="javascript" src="../js/shCore.js"></script>
    <script language="javascript" src="../js/shBrushXml.js"></script>
    <script language="javascript" src="../js/shBrushJScript.js"></script>
    <script language="javascript" src="../js/shBrushPython.js"></script>
</head>
<body class="node-type-page one-sidebar sidebar-right section-pages">
    <div id="page">
    <div id="page-inner">
    <div id="header"><div id="header-inner"></div></div>
    <div id="content">
    <div id="content-inner">
    <div class="node node-type-page"
        <div class="node-inner">
        <div class="breadcrumb">View online at: <a href="http://www.clips.ua.ac.be/pages/pattern" class="noexternal" target="_blank">http://www.clips.ua.ac.be/pages/pattern</a></div>
        <h1>pattern</h1>
        <!-- Parsed from the online documentation. -->
        <div id="node-1350" class="node node-type-page"><div class="node-inner">
<div class="content">
<p><span class="big">Pattern is a web mining module for the Python programming language.</span></p>
<p><span class="big">It bundles tools for data retrieval (Google + Twitter + Wikipedia API, web spider, HTML DOM parser), text analysis (rule-based shallow parser, WordNet interface, syntactical + semantical n-gram search algorithm, tf-idf + cosine similarity + LSA metrics), clustering and classification (k-means, KNN, SVM), and data visualization (graph networks).</span></p>
<p>The module is bundled with 30+ example scripts and 350+ unit tests.</p>
<p><img src="../g/pattern_schema.gif" alt="" width="620" height="180" /></p>
<hr />
<h2>Download</h2>
<table>
<tbody>
<tr>
<td><a onclick="javascript:_gaq.push(['_trackPageview', '/downloads/pattern']);" href="http://www.clips.ua.ac.be/media/pattern-2.3.zip" target="_self"><img src="../g/download.gif" alt="download" align="left" /></a></td>
<td><strong>Pattern 2.3</strong>&nbsp;| <a onclick="javascript:_gaq.push(['_trackPageview', '/downloads/pattern']);" href="http://www.clips.ua.ac.be/media/pattern-2.3.zip" target="_self">download</a> (16MB)
<ul>
<li>Requires: Python 2.4+ on Windows | Mac | Unix</li>
<li>Licensed under <a href="http://www.linfo.org/bsdlicense.html" target="_blank">BSD</a></li>
<li>Latest releases:&nbsp;<a style="color: #1e90ff; outline-style: none !important; outline-width: initial !important; outline-color: initial !important;" href="http://www.clips.ua.ac.be/media/pattern-2.3.zip">2.3</a>&nbsp;|&nbsp;<a href="http://www.clips.ua.ac.be/media/pattern-2.2.zip">2.2</a> |&nbsp;<a href="http://www.clips.ua.ac.be/media/pattern-2.1.zip">2.1</a> |&nbsp;<a href="http://www.clips.ua.ac.be/media/pattern-2.0.zip">2.0</a> |&nbsp;<a style="color: #1e90ff; outline-style: none !important; outline-width: initial !important; outline-color: initial !important;" href="http://www.clips.ua.ac.be/media/pattern-1.9.zip">1.9</a></li>
<li>Author:<br />Tom De Smedt (<em>tom at organisms.be</em>)</li>
</ul>
<p><span class="small"><span style="text-decoration: underline;">Reference</span>: De Smedt, T. &amp; Daelemans, W. (2011)</span>.<br /><span class="small">Pattern version 2.3, retrieved October 2011, from: http://www.clips.ua.ac.be/</span></p>
</td>
<td>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<hr />
<table border="0">
<tbody>
<tr>
<td style="width: 180px;">
<h2>Modules</h2>
<ul>
<li><a href="pattern-web.html">pattern.web</a></li>
<li><a href="pattern-db.html">pattern.db</a></li>
<li><a href="pattern-en.html">pattern.en</a>&nbsp;| <a href="pattern-nl.html">nl</a></li>
<li><a href="pattern-search.html">pattern.search</a></li>
<li><a href="pattern-vector.html">pattern.vector</a></li>
<li><a href="pattern-graph.html">pattern.graph</a>&nbsp;</li>
</ul>
<p><span class="smallcaps">Helper modules</span></p>
<ul style="margin-top: 0;">
<li><a href="pattern-metrics.html">pattern.metrics</a></li>
<li><a href="pattern-canvas.html">canvas.js</a></li>
</ul>
<p><span class="smallcaps">Command-line</span></p>
<ul style="margin-top: 0;">
<li><a href="pattern-shell.html">Command-line interface</a></li>
</ul>
</td>
<td>
<h2>Contribute</h2>
<ul>
<li><a href="pattern-dev.html">Developer documentation</a></li>
<li><a href="https://github.com/clips/pattern" target="_blank">GitHub repository</a></li>
<li><a href="http://groups.google.com/group/pattern-for-python" target="_blank">Google group</a></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>&nbsp;</p>
<hr />
<h2>Installation</h2>
<p>Pattern is written for Python 2.4+ (no support for Python 3 yet). The module has no external dependencies except when using LSA in the vector module, which requires <a href="http://numpy.scipy.org/" target="_blank">NumPy</a> (installed by default on Mac OS X).</p>
<p>To install it so that the module is available in all your scripts, open a terminal and do:</p>
<div class="install">
<pre class="gutter:false; light:true;">&gt; cd pattern-2.3
&gt; python setup.py install </pre></div>
<p>If you have pip, you can automatically download and install from the PyPi repository:</p>
<div class="install">
<pre class="gutter:false; light:true;">&gt; pip install pattern</pre></div>
<p>If none of the above works, you can make Python aware of the module in three ways:</p>
<ul>
<li>Put the <span class="inline_code">pattern</span>&nbsp;subfolder in the same folder as your script.</li>
<li>Put the <span class="inline_code">pattern</span>&nbsp;subfolder in the standard location for modules so it is available to all scripts:<br /><span class="inline_code" style="font-family: Courier, monospace; font-size: 12px;">c:\python25\Lib\site-packages\</span>&nbsp;(Windows),<br /><span class="inline_code"> /Library/Python/2.5/site-packages/</span>&nbsp;(Mac OS X), <br /><span class="inline_code">/usr/lib/python2.5/site-packages/</span>&nbsp;(Unix).<span style="font-family: Courier, monospace; font-size: small;"><span style="font-size: 12px;"><br /></span></span></li>
<li>Add the location of the module to&nbsp;<span class="inline_code">sys.path</span>&nbsp;in your script, before importing it:</li>
</ul>
<div class="example">
<pre class="brush:python; gutter:false; light:true;">&gt;&gt;&gt; MODULE = &#39;/users/tom/desktop/pattern&#39;
&gt;&gt;&gt; import sys; if MODULE not in sys.path: sys.path.append(MODULE)
&gt;&gt;&gt; from pattern.en import parse, Sentence </pre></div>
<p>&nbsp;</p>
<hr />
<h2>Quick overview</h2>
<h3>pattern.web</h3>
<p>Module <a href="pattern-web.html">pattern.web</a> is a web toolkit that bundles various API's (Google, Gmail, Bing, Twitter, Wikipedia, Flickr) with a robust HTML parser and web spider. Its purpose is to retrieve online content in an easy-to-use, uniform way.</p>
<div class="example">
<pre class="brush:python; gutter:false; light:true;">&gt;&gt;&gt; from pattern.web import Twitter, plaintext
&gt;&gt;&gt; for tweet in Twitter().search(&#39;&quot;more important than&quot;&#39;, cached=False):
&gt;&gt;&gt;    print plaintext(tweet.description)

&#39;HINT: The mobile web is more important than mobile apps.&#39;
&#39;Start slowly, direction is more important than speed.&#39;
&#39;Imagination is more important than knowledge. - Albert Einstein&#39;
...</pre></div>
<h3>pattern.en</h3>
<p>Module <a href="pattern-en.html">pattern.en</a> is a natural language processing (NLP) toolkit for English. It is based on regular expressions, meaning that it is fast but on occasion also prone to incorrect results (see <span class="link-maintenance"><a href="http://www.clips.ua.ac.be/pages/MBSP" target="_blank">MBSP</a></span> for a robust approach compatible with Pattern). It has functionality for word inflection (for example: verb conjugation and noun pluralization), a Python interface to the WordNet database, and a Brill-based shallow parser. A <em>shallow parser</em> analyzes a sentence and identifies the constituents (nouns, verbs, etc.).</p>
<div class="example">
<pre class="brush:python; gutter:false; light:true;">&gt;&gt;&gt; from pattern.en import parse, pprint
&gt;&gt;&gt; s = &#39;The mobile web is more important than mobile apps.&#39;
&gt;&gt;&gt; s = parse(s, relations=True, lemmata=True)
&gt;&gt;&gt; pprint(s)

          WORD   TAG    CHUNK    ROLE   ID     PNP    LEMMA       
                                                                  
           The   DT     NP       SBJ    1      -      the         
        mobile   JJ     NP ^     SBJ    1      -      mobile      
           web   NN     NP ^     SBJ    1      -      web         
            is   VBZ    VP       -      1      -      be          
          more   RBR    ADJP     -      -      -      more        
     important   JJ     ADJP ^   -      -      -      important   
          than   IN     PP       -      -      PNP    than        
        mobile   JJ     NP       -      -      PNP    mobile      
          apps   NNS    NP ^     -      -      PNP    app     


</pre></div>
<p>Note how the sentence has been annotated with various tags, discerning for example nouns (<span class="postag">NN</span>), adjectives (<span class="postag">JJ</span>), determiners (<span class="postag">DT</span>), verbs (<span class="postag">VB</span>), noun phrases (<span class="postag">NP</span>), sentence subject (<span class="postag">SBJ</span>), and a prepositional noun phrase (<span class="postag">PNP</span>). The parsed sentence can then be used to create a <em>parse tree</em>: a Python structure of related objects that is easy to traverse and inspect.</p>
<div class="example">
<pre class="brush:python; gutter:false; light:true;">&gt;&gt;&gt; from pattern.en import parse, split
&gt;&gt;&gt; s = &#39;The mobile web is more important than mobile apps.&#39;
&gt;&gt;&gt; s = parse(s)
&gt;&gt;&gt; s = split(s)
&gt;&gt;&gt; for chunk in s.sentences[0].chunks:
&gt;&gt;&gt;     for word in chunk.words:
&gt;&gt;&gt;         print word,
&gt;&gt;&gt;     print

Word(u&#39;The/DT&#39;) Word(u&#39;mobile/JJ&#39;) Word(u&#39;web/NN&#39;)
Word(u&#39;is/VBZ&#39;)
Word(u&#39;more/RBR&#39;) Word(u&#39;important/JJ&#39;)
Word(u&#39;than/IN&#39;)
Word(u&#39;mobile/JJ&#39;) Word(u&#39;apps/NNS&#39;)
</pre></div>
<p>A parser for Dutch (based on Jeroen Geertzen's language model) is also available:&nbsp;<span class="link-maintenance"><a href="pattern-nl.html">pattern.nl</a></span>.</p>
<h3>pattern.search</h3>
<p>Module <a href="pattern-search.html">pattern.search</a> contains an elegant search algorithm to retrieve sequences of words (called <em>n-grams</em>) from a parsed sentence.</p>
<div class="example">
<pre class="brush:python; gutter:false; light:true;">&gt;&gt;&gt; from pattern.en import parse, split
&gt;&gt;&gt; from pattern.search import search
&gt;&gt;&gt; s = &#39;The mobile web is more important than mobile apps.&#39;
&gt;&gt;&gt; s = parse(s, relations=True, lemmata=True)
&gt;&gt;&gt; s = split(s)
&gt;&gt;&gt;
&gt;&gt;&gt; for match in search(&#39;NP be (RB)+ important than NP&#39;, s):
&gt;&gt;&gt;     print match.constituents()[-1], &quot;=&gt;&quot;, \
&gt;&gt;&gt;           match.constituents()[0]

Chunk(&#39;mobile apps/NP&#39;) =&gt; Chunk(&#39;The mobile web/NP-SBJ-1&#39;)
</pre></div>
<p>Observe the given search pattern: <span class="inline_code">"NP be (RB)+ important than NP"</span>.</p>
<p>It means: any noun phrase followed by the verb <em>to be</em> (<em>is</em>, <em>was</em>, ...), followed by zero or more adverbs (e.g. <em>much</em>, <em>more</em>), followed by the words <em>important than</em>, followed by any noun phrase. It will match any of the following variations:</p>
<ul>
<li>"the mobile web <em>will be much more</em> important than mobile apps"</li>
<li>"mobile apps <em>are less</em> important than the mobile web"</li>
<li>"a good blog <em>is more</em> important than a fancy facebook page", etc.</li>
</ul>
<h3>pattern.graph</h3>
<p>Module <a href="pattern-graph.html">pattern.graph</a> provides a data structure to represent relationships between <em>nodes</em> (e.g. words, concepts, entities ...) The relative importance (or <em>centrality</em>) of each node can then be calculated. Graphs can be exported as an interactive web page using the HTML <span class="inline_code">&lt;canvas&gt;</span> element (<span class="link-maintenance"><a href="http://www.clips.ua.ac.be/media/pattern-graph" target="_blank">demo</a></span>).&nbsp;</p>
<p>The screenshot shows&nbsp;an exported graph with nodes pointing to more important nodes (data mined from Bing). Nodes with a lot of "traffic" are marked with a shadow (<em>money</em>, <em>football</em>, <em>life</em>), important nodes are marked in blue (<em>experience</em>, <em>I</em>, <em>nothing</em>, <em>money</em>).</p>
<p><img class="border" src="../g/pattern_graph5.jpg" alt="" width="610" height="198" /></p>
<p><span style="font-size: 11px;"><span style="text-decoration: underline;">Note</span>: The&nbsp;<em>nothing</em>&nbsp;result could use some extra post-processing, e.g. in:&nbsp;<em>nothing is more important than life</em>, the word&nbsp;<em>life</em>&nbsp;is important, not the word&nbsp;<em>nothing</em>.</span></p>
<p>Source code:</p>
<div class="example">
<pre class="brush:python; gutter:false; light:true;">&gt;&gt;&gt; from pattern.web    import Bing, plaintext
&gt;&gt;&gt; from pattern.en     import Sentence, Chunk, parse
&gt;&gt;&gt; from pattern.search import Pattern
&gt;&gt;&gt; from pattern.graph  import Graph, Node, Edge, export
&gt;&gt;&gt;  
&gt;&gt;&gt; g = Graph()
&gt;&gt;&gt; for i in range(10):
&gt;&gt;&gt;     for r in Bing().search(&#39;&quot;more important than&quot;&#39;, start=i+1, count=50):
&gt;&gt;&gt;         s = plaintext(r.description.lower())
&gt;&gt;&gt;         s = Sentence(parse(s))
&gt;&gt;&gt;         p = Pattern.fromstring(&#39;NP (VP) more important than NP&#39;)
&gt;&gt;&gt;         for m in p.search(s):
&gt;&gt;&gt;             a = m.constituents(p[+0])[-1] # Left NP.
&gt;&gt;&gt;             b = m.constituents(p[-1])[+0] # Right NP.
&gt;&gt;&gt;             a = (isinstance(a, Chunk) and a.head or a).string
&gt;&gt;&gt;             b = (isinstance(b, Chunk) and b.head or b).string
&gt;&gt;&gt;             if a and b:
&gt;&gt;&gt;                 if a not in g:
&gt;&gt;&gt;                     g.add_node(a, radius=5, stroke=(0,0,0,0.8))
&gt;&gt;&gt;                 if b not in g:
&gt;&gt;&gt;                     g.add_node(b, radius=5, stroke=(0,0,0,0.8))
&gt;&gt;&gt;                 g.add_edge(g[b], g[a], stroke=(0,0,0,0.6))
&gt;&gt;&gt;  
&gt;&gt;&gt; g = g.split()[0] # Largest subgraph.
&gt;&gt;&gt;  
&gt;&gt;&gt; for n in g.sorted()[:40]: # Sorted by Node.weight.
&gt;&gt;&gt;     n.fill = (0.0, 0.5, 1.0, 0.7 * n.weight)
&gt;&gt;&gt;  
&gt;&gt;&gt; export(g, &#39;test&#39;, directed=True, weighted=0.6, distance=6, force=0.05,
     repulsion=150) </pre></div>
<p>&nbsp;</p>
<hr />
<h2>Examples &amp; experiments</h2>
<table border="0">
<tbody>
<tr>
<td><a href="http://www.clips.ua.ac.be/pages/pattern-examples-elections"><img src="../g/pattern_example_elections.jpg" alt="" width="70" height="70" /></a></td>
<td>
<p><span class="smallcaps">Belgian elections, June 13, 2010 – Twitter opinion mining</span></p>
<p>After the fall of the previous government, the New Flemish Alliance emerged as the plurality party with 27 seats. In the week before the elections we analyzed 7,600 tweets that mentioned the name of a Belgian politician.&nbsp;<a href="http://www.clips.ua.ac.be/pages/pattern-examples-elections">read more</a></p>
</td>
</tr>
<tr>
<td><a href="http://www.clips.ua.ac.be/pages/pattern-examples-100days"><img src="../g/pattern_example_100days.jpg" alt="" width="70" height="70" /></a></td>
<td>
<p><span class="smallcaps">November 2010 – March 2011, 100 days of web mining</span></p>
<p>During a 100-day period, we collected 6,400 Google News items and 70,000 tweets with the goal of finding a correlation between important news items and personal opinions on Twitter. What we got was profanity, mostly. <a href="http://www.clips.ua.ac.be/pages/pattern-examples-100days">read more</a></p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
        </div>
    </div>
    </div>
    </div>
    </div>
    </div>
    <script>
        SyntaxHighlighter.all();
    </script>
</body>
</html>